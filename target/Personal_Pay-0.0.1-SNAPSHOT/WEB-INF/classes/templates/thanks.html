<!doctype html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7" lang=""> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8" lang=""> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9" lang=""> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"> <!--<![endif]-->
    <head>
        <meta charset="utf-8">
        <title>个人收款支付系统</title>
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="icon" type="image/png" href="favicon.ico">

        <link rel="stylesheet" href="assets/css/swiper.min.css">
        <link rel="stylesheet" href="assets/css/animate.css">
        <link rel="stylesheet" href="assets/css/iconfont.css">
        <link rel="stylesheet" href="assets/css/font-awesome.min.css">
        <link rel="stylesheet" href="assets/css/bootstrap.min.css">
        <link rel="stylesheet" href="assets/css/magnific-popup.css">
        <link rel="stylesheet" href="assets/css/bootsnav2.css">

        <!--For Plugins external css-->
        <!--<link rel="stylesheet" href="assets/css/plugins.css" />-->
        <!--Theme custom css -->
        <link rel="stylesheet" href="assets/css/style.css">
    
        <!--Theme Responsive css-->
        <link rel="stylesheet" href="assets/css/responsive.css" />

        <link href="assets/css/demo_table.css" rel="stylesheet" />

        <link rel="stylesheet" href="assets/css/thanks.css">

        <link href="assets/css/style3.css" rel="stylesheet">

        <!--<script src="assets/js/vendor/modernizr-2.8.3-respond-1.4.2.min.js"></script>-->
    </head>

    <body data-spy="scroll" data-target=".navbar-collapse" style="background:#f1f2f7">

        <div class="culmn">
            <!--Home page style-->



            <!--Featured Section-->
            <section id="features" class="features" style="font-size: 13px">
                <div class="container">
                    <div class="row">
                        <div class="main_features p-top-100">
                            
                                <section class="panel" style="">
                                        <header class="panel-heading tab-bg-white">
                                            <ul class="nav nav-tabs">
                                                <li class="active">
                                                    <a data-toggle="tab" href="#about-2">
                                                        <i class="fa fa-heart" aria-hidden="true"></i>
                                                        捐赠名单
                                                    </a>
                                                </li>
                                                <li class="">
                                                    <a data-toggle="tab" href="#contact-2">
                                                       <i class="fa fa-meh-o" aria-hidden="true"></i>
                                                        尚未支付
                                                    </a>
                                                </li>
                                                <li class="">
                                                    <a data-toggle="tab" href="#check-2">
                                                        <i class="fa fa-check-square-o" aria-hidden="true"></i>
                                                        系统审核中
                                                    </a>
                                                </li>
                                            </ul>
                                        </header>
                                        <div class="panel-body">
                                            <div class="tab-content">
                                                <div id="about-2" class="tab-pane active">
                                                    <div class="adv-table">
                                                        <div class="clearfix">
                                                            <div class="thank">
                                                                	谢谢支持
                                                            </div>
                                                        </div>
                                                        <div class="clearfix">
                                                            <div class="btn-group pull-right">
                                                                <button class="btn btn-info" onclick="refresh1()"><i class="fa fa-refresh" aria-hidden="true"></i>&nbsp;&nbsp;刷 新</button>
                                                            </div>
                                                        </div>
                                                        <div class="space15"></div>
                                                        <table cellpadding="0" cellspacing="0" border="0" class="display table table-bordered" id="table1" width="100%">
                                                            <thead>
                                                            <tr>
                                                                <th width="20%">昵称</th>
                                                                <th width="10%">捐赠方式</th>
                                                                <th width="20%">捐赠金额(￥)</th>
                                                                <th width="20%">捐赠人留言</th>
                                                                <th width="10%">状态</th>
                                                                <th width="20%">捐赠时间</th>
                                                            </tr>
                                                            </thead>
                                                        </table>
                            
                                                    </div>
                                                </div>
                                                <div id="contact-2" class="tab-pane ">
                                                    <div class="adv-table">
                                                        <div class="thank">
                                                            以下数据系统将于每日凌晨自动清除
                                                        </div>
                                                        <div class="clearfix">
                                                            <div class="btn-group pull-right">
                                                                <button class="btn btn-info" onclick="refresh2()"><i class="fa fa-refresh" aria-hidden="true"></i>&nbsp;&nbsp;刷 新</button>
                                                            </div>
                                                        </div>
                                                        <div class="space15"></div>
                                                        <table cellpadding="0" cellspacing="0" border="0" class="display table table-bordered" id="table2" width="100%">
                                                            <thead>
                                                            <tr>
                                                                <th width="20%">昵称</th>
                                                                <th width="10%">支付方式</th>
                                                                <th width="20%">支付金额(￥)</th>
                                                                <th width="20%">留言</th>
                                                                <th width="10%">状态</th>
                                                                <th width="20%">订单创建时间</th>
                                                            </tr>
                                                            </thead>
                                                        </table>
                                                    </div>
                                                </div>
                                                <div id="check-2" class="tab-pane ">
                                                    <div class="adv-table">
                                                        <div class="clearfix">
                                                            <div class="btn-group pull-right">
                                                                <button class="btn btn-info" onclick="refresh3()"><i class="fa fa-refresh" aria-hidden="true"></i>&nbsp;&nbsp;刷 新</button>
                                                            </div>
                                                        </div>
                                                        <div class="space15"></div>
                                                        <table cellpadding="0" cellspacing="0" border="0" class="display table table-bordered" id="table3" width="100%">
                                                            <thead>
                                                            <tr>
                                                                <th width="20%">昵称</th>
                                                                <th width="10%">支付方式</th>
                                                                <th width="20%">支付金额(￥)</th>
                                                                <th width="20%">留言</th>
                                                                <th width="10%">状态</th>
                                                                <th width="20%">订单创建时间</th>
                                                            </tr>
                                                            </thead>
                                                        </table>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </section>

                        </div>
                    </div><!-- End off row -->
                </div><!-- End off container -->
            </section><!-- End off Featured Section-->
     </div>

           

        <!-- JS includes -->

        <script src="assets/js/vendor/jquery-1.11.2.min.js"></script>
        <script src="assets/js/vendor/bootstrap.min.js"></script>

        <script src="assets/js/jquery.magnific-popup.js"></script>
        <script src="assets/js/jquery.easing.1.3.js"></script>
        <script src="assets/js/swiper.min.js"></script>
        <script src="assets/js/jquery.collapse.js"></script>
        <script src="assets/js/bootsnav.js"></script>

        <script src="assets/js/plugins.js"></script>
        <script src="assets/js/main.js"></script>

        <!-- <script type="text/javascript" language="javascript" src="assets/js/jquery.js"></script> -->
        <script type="text/javascript" language="javascript" src="assets/js/jquery.dataTables.min.js"></script>
        <script type="text/javascript" src="assets/js/DT_bootstrap.js"></script>

    </body>
    <script>
        $("[data-toggle='popover']").popover();

        /*时间转换 精确到分 yyyy-MM-dd HH:mm*/
        function dateToMin(data){

            if(data==null||data==""){
                return "";
            }
            var time = new Date(data);
            var y = time.getFullYear();//年
            var m = time.getMonth() + 1;//月
            if (m >= 0 && m <= 9) {
                m = "0" + m;
            }
            var d = time.getDate();//日
            if (d >= 0 && d <= 9) {
                d = "0" + d;
            }
            var h = time.getHours();//时
            if (h >= 0 && h <= 9) {
                h = "0" + h;
            }
            var mm = time.getMinutes();//分
            if (mm >= 0 && mm <= 9) {
                mm = "0" + mm;
            }
            return (y+"-"+m+"-"+d+" "+h+":"+mm);
        }

        /*刷新表格*/
        function refresh1(){
            var table = $('#table1').DataTable();
            table.ajax.reload(null,false);// 刷新表格数据，分页信息不会重置
        }

        function refresh2(){
            var table = $('#table2').DataTable();
            table.ajax.reload(null,false);// 刷新表格数据，分页信息不会重置
        }

        function refresh3(){
            var table = $('#table3').DataTable();
            table.ajax.reload(null,false);// 刷新表格数据，分页信息不会重置
        }

        $(document).ready(function(){
            initTable1();
            initTable2();
            initTable3();
        });

        function initTable1() {
            var table1 = $('#table1').dataTable( {
                "processing": false,   // 加载显示提示
                "ajax": {
                    url:"/thanks/list",
                    type: 'GET'
                },
                "columns": [
                    { "data": "nickName"},
                    { "data": "payType"},
                    { "data": "money"},
                    { "data": "info"},
                    {
                        "data": null,
                        render: function (data, type, row, meta) {
                            return "<div style='text-align: center'><span class=\"label label-success label-mini\">支付成功</span></div>";
                        }
                    },
                    {
                        "data": "createTime",
                        render: function (data, type, row, meta) {
                            return dateToMin(data);
                        }
                    }
                ],
                "aoColumnDefs": [
                    { "bSortable": false, "aTargets": [  ] } //制定列不参与排序
                ],
                "aaSorting": [ [5,"desc"] ],  // 默认排序
                "pageLength": 10, // 默认显示数量
                "lengthMenu": [ 5, 10, 25, 50 ], // 页面大小选择
                language: {
                    url: 'assets/css/fonts/Chinese.json'
                }
            });
        }

        function initTable2() {
            var table1 = $('#table2').dataTable( {
                "processing": false,   // 加载显示提示
                "ajax": {
                    url:"/pay/list",
                    type: 'GET'
                },
                "columns": [
                    { "data": "nickName"},
                    { "data": "payType"},
                    { "data": "money"},
                    { "data": "info"},
                    {
                        "data": null,
                        render: function (data, type, row, meta) {
                            return "<div style='text-align: center'><span class=\"label label-danger label-mini\">支付失败</span></div>";
                        }
                    },
                    {
                        "data": "createTime",
                        render: function (data, type, row, meta) {
                            return dateToMin(data);
                        }
                    }
                ],
                "aoColumnDefs": [
                    { "bSortable": false, "aTargets": [  ] } //制定列不参与排序
                ],
                "aaSorting": [ [5,"desc"] ],  // 默认排序
                "pageLength": 10, // 默认显示数量
                "lengthMenu": [ 5, 10, 25, 50 ], // 页面大小选择
                language: {
                    url: 'assets/css/fonts/Chinese.json'
                }
            });
        }

        function initTable3() {
            var table1 = $('#table3').dataTable( {
                "processing": false,   // 加载显示提示
                "ajax": {
                    url:"/pay/check/list",
                    type: 'GET'
                },
                "columns": [
                    { "data": "nickName"},
                    { "data": "payType"},
                    { "data": "money"},
                    { "data": "info"},
                    {
                        "data": null,
                        render: function (data, type, row, meta) {
                            return "<div style='text-align: center'><span class=\"label label-warning label-mini\">审核中</span></div>";
                        }
                    },
                    {
                        "data": "createTime",
                        render: function (data, type, row, meta) {
                            return dateToMin(data);
                        }
                    }
                ],
                "aoColumnDefs": [
                    { "bSortable": false, "aTargets": [  ] } //制定列不参与排序
                ],
                "aaSorting": [ [5,"desc"] ],  // 默认排序
                "pageLength": 10, // 默认显示数量
                "lengthMenu": [ 5, 10, 25, 50 ], // 页面大小选择
                language: {
                    url: 'assets/css/fonts/Chinese.json'
                }
            });
        }
       
    </script>
</html>
